var pt=Object.prototype.hasOwnProperty,G=Object.getOwnPropertySymbols,ht=Object.prototype.propertyIsEnumerable,T=Object.assign,F=(e,n)=>{var s={};for(var t in e)pt.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&G)for(var t of G(e))n.indexOf(t)<0&&ht.call(e,t)&&(s[t]=e[t]);return s};import{n as E,s as L,a as mt,r as _t,i as dt,S as J,b as K,c as Q,u as V,t as y,d as R,g as I,e as C,o as bt,f as W,h as M,j as U,k as j,l as D,m as q,p as gt,q as x,v as X,w as Z,x as $,y as kt,z as tt,A as et}from"./common/index-9f3822ed.js";const P=[];function yt(e,n){return{subscribe:A(e,n).subscribe}}function A(e,n=E){let s;const t=[];function o(c){if(L(e,c)&&(e=c,s)){const r=!P.length;for(let a=0;a<t.length;a+=1){const f=t[a];f[1](),P.push(f,e)}if(r){for(let a=0;a<P.length;a+=2)P[a][0](P[a+1]);P.length=0}}}function i(c){o(c(e))}function u(c,r=E){const a=[c,r];return t.push(a),t.length===1&&(s=n(o)||E),c(e),()=>{const f=t.indexOf(a);f!==-1&&t.splice(f,1),t.length===0&&(s(),s=null)}}return{set:o,update:i,subscribe:u}}function St(e,n,s){const t=!Array.isArray(e),o=t?[e]:e,i=n.length<2;return yt(s,u=>{let c=!1;const r=[];let a=0,f=E;const b=()=>{if(a)return;f();const h=n(t?r[0]:r,u);i?u(h):f=dt(h)?h:E},_=o.map((h,g)=>mt(h,m=>{r[g]=m,a&=~(1<<g),c&&b()},()=>{a|=1<<g}));return c=!0,b(),function(){_t(_),f()}})}const B={},H={};function v(e){return T(T({},e.location),{state:e.history.state,key:e.history.state&&e.history.state.key||"initial"})}function Rt(e,n){const s=[];let t=v(e);return{get location(){return t},listen(o){s.push(o);const i=()=>{t=v(e),o({location:t,action:"POP"})};return e.addEventListener("popstate",i),()=>{e.removeEventListener("popstate",i);const u=s.indexOf(o);s.splice(u,1)}},navigate(o,{state:i,replace:u=!1}={}){i=T(T({},i),{key:Date.now()+""});try{u?e.history.replaceState(i,null,o):e.history.pushState(i,null,o)}catch(c){e.location[u?"replace":"assign"](o)}t=v(e),s.forEach(c=>c({location:t,action:"PUSH"}))}}}function wt(e="/"){let n=0;const s=[{pathname:e,search:""}],t=[];return{get location(){return s[n]},addEventListener(o,i){},removeEventListener(o,i){},history:{get entries(){return s},get index(){return n},get state(){return t[n]},pushState(o,i,u){const[c,r=""]=u.split("?");n++,s.push({pathname:c,search:r}),t.push(o)},replaceState(o,i,u){const[c,r=""]=u.split("?");s[n]={pathname:c,search:r},t[n]=o}}}}const Ot=Boolean(typeof window!="undefined"&&window.document&&window.document.createElement),nt=Rt(Ot?window:wt()),ot=/^:(.+)/,st=4,Pt=3,Nt=2,Tt=1,Et=1;function Ct(e){return e===""}function At(e){return ot.test(e)}function it(e){return e[0]==="*"}function z(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function Y(e){return e.replace(/(^\/+|\/+$)/g,"")}function It(e,n){const s=e.default?0:z(e.path).reduce((t,o)=>(t+=st,Ct(o)?t+=Et:At(o)?t+=Nt:it(o)?t-=st+Tt:t+=Pt,t),0);return{route:e,score:s,index:n}}function Lt(e){return e.map(It).sort((n,s)=>n.score<s.score?1:n.score>s.score?-1:n.index-s.index)}function rt(e,n){let s,t;const[o]=n.split("?"),i=z(o),u=i[0]==="",c=Lt(e);for(let r=0,a=c.length;r<a;r++){const f=c[r].route;let b=!1;if(f.default){t={route:f,params:{},uri:n};continue}const _=z(f.path),h={},g=Math.max(i.length,_.length);let m=0;for(;m<g;m++){const p=_[m],w=i[m];if(p!==void 0&&it(p)){const N=p==="*"?"*":p.slice(1);h[N]=i.slice(m).map(decodeURIComponent).join("/");break}if(w===void 0){b=!0;break}let O=ot.exec(p);if(O&&!u){const N=decodeURIComponent(w);h[O[1]]=N}else if(p!==w){b=!0;break}}if(!b){s={route:f,params:h,uri:"/"+i.slice(0,m).join("/")};break}}return s||t||null}function Mt(e,n){return rt([e],n)}function ct(e,n){return`${Y(n==="/"?e:`${Y(e)}/${Y(n)}`)}/`}function Ut(e){let n;const s=e[9].default,t=Q(s,e,e[8],null);return{c(){t&&t.c()},m(o,i){t&&t.m(o,i),n=!0},p(o,[i]){t&&(t.p&&i&256&&V(t,s,o,o[8],i,null,null))},i(o){if(n)return;y(t,o),n=!0},o(o){R(t,o),n=!1},d(o){t&&t.d(o)}}}function jt(e,n,s){let t,o,i,{$$slots:u={},$$scope:c}=n,{basepath:r="/"}=n,{url:a=null}=n;const f=I(B),b=I(H),_=A([]);C(e,_,l=>s(7,i=l));const h=A(null);let g=!1;const m=f||A(a?{pathname:a}:nt.location);C(e,m,l=>s(6,o=l));const p=b?b.routerBase:A({path:r,uri:r});C(e,p,l=>s(5,t=l));const w=St([p,h],([l,d])=>{if(d===null)return l;const{path:k}=l,{route:S,uri:lt}=d,ft=S.default?k:S.path.replace(/\*.*$/,"");return{path:ft,uri:lt}});function O(l){const{path:d}=t;let{path:k}=l;if(l._path=k,l.path=ct(d,k),typeof window=="undefined"){if(g)return;const S=Mt(l,o.pathname);S&&(h.set(S),g=!0)}else _.update(S=>(S.push(l),S))}function N(l){_.update(d=>{const k=d.indexOf(l);return d.splice(k,1),d})}return f||(bt(()=>{const l=nt.listen(d=>{m.set(d.location)});return l}),W(B,m)),W(H,{activeRoute:h,base:p,routerBase:w,registerRoute:O,unregisterRoute:N}),e.$$set=l=>{"basepath"in l&&s(3,r=l.basepath),"url"in l&&s(4,a=l.url),"$$scope"in l&&s(8,c=l.$$scope)},e.$$.update=()=>{if(e.$$.dirty&32){const{path:l}=t;_.update(d=>(d.forEach(k=>k.path=ct(l,k._path)),d))}if(e.$$.dirty&192){const l=rt(i,o.pathname);h.set(l)}},[_,m,p,r,a,t,o,i,c,u]}class Dt extends J{constructor(n){super();K(this,n,jt,Ut,L,{basepath:3,url:4})}}const qt=e=>({params:e&4,location:e&16}),at=e=>({params:e[2],location:e[4]});function ut(e){let n,s,t,o;const i=[Bt,xt],u=[];function c(r,a){return r[0]!==null?0:1}return n=c(e),s=u[n]=i[n](e),{c(){s.c(),t=M()},m(r,a){u[n].m(r,a),U(r,t,a),o=!0},p(r,a){let f=n;n=c(r),n===f?u[n].p(r,a):(j(),R(u[f],1,1,()=>{u[f]=null}),D(),s=u[n],s?s.p(r,a):(s=u[n]=i[n](r),s.c()),y(s,1),s.m(t.parentNode,t))},i(r){if(o)return;y(s),o=!0},o(r){R(s),o=!1},d(r){u[n].d(r),r&&q(t)}}}function xt(e){let n;const s=e[10].default,t=Q(s,e,e[9],at);return{c(){t&&t.c()},m(o,i){t&&t.m(o,i),n=!0},p(o,i){t&&(t.p&&i&532&&V(t,s,o,o[9],i,qt,at))},i(o){if(n)return;y(t,o),n=!0},o(o){R(t,o),n=!1},d(o){t&&t.d(o)}}}function Bt(e){let n,s,t;const o=[{location:e[4]},e[2],e[3]];var i=e[0];function u(c){let r={};for(let a=0;a<o.length;a+=1)r=x(r,o[a]);return{props:r}}return i&&(n=new i(u())),{c(){n&&Z(n.$$.fragment),s=M()},m(c,r){n&&$(n,c,r),U(c,s,r),t=!0},p(c,r){const a=r&28?kt(o,[r&16&&{location:c[4]},r&4&&tt(c[2]),r&8&&tt(c[3])]):{};if(i!==(i=c[0])){if(n){j();const f=n;R(f.$$.fragment,1,0,()=>{et(f,1)}),D()}i?(n=new i(u()),Z(n.$$.fragment),y(n.$$.fragment,1),$(n,s.parentNode,s)):n=null}else i&&n.$set(a)},i(c){if(t)return;n&&y(n.$$.fragment,c),t=!0},o(c){n&&R(n.$$.fragment,c),t=!1},d(c){c&&q(s),n&&et(n,c)}}}function Ht(e){let n,s,t=e[1]!==null&&e[1].route===e[7]&&ut(e);return{c(){t&&t.c(),n=M()},m(o,i){t&&t.m(o,i),U(o,n,i),s=!0},p(o,[i]){o[1]!==null&&o[1].route===o[7]?t?(t.p(o,i),i&2&&y(t,1)):(t=ut(o),t.c(),y(t,1),t.m(n.parentNode,n)):t&&(j(),R(t,1,1,()=>{t=null}),D())},i(o){if(s)return;y(t),s=!0},o(o){R(t),s=!1},d(o){t&&t.d(o),o&&q(n)}}}function vt(e,n,s){let t,o,{$$slots:i={},$$scope:u}=n,{path:c=""}=n,{component:r=null}=n;const{registerRoute:a,unregisterRoute:f,activeRoute:b}=I(H);C(e,b,p=>s(1,t=p));const _=I(B);C(e,_,p=>s(4,o=p));const h={path:c,default:c===""};let g={},m={};return a(h),typeof window!="undefined"&&gt(()=>{f(h)}),e.$$set=p=>{s(13,n=x(x({},n),X(p))),"path"in p&&s(8,c=p.path),"component"in p&&s(0,r=p.component),"$$scope"in p&&s(9,u=p.$$scope)},e.$$.update=()=>{e.$$.dirty&2&&(t&&t.route===h&&s(2,g=t.params));{const{path:p,component:w}=n,O=F(n,["path","component"]);s(3,m=O)}},n=X(n),[r,t,g,m,o,b,_,h,c,u,i]}class zt extends J{constructor(n){super();K(this,n,vt,Ht,L,{path:8,component:0})}}export{zt as Route,Dt as Router};
